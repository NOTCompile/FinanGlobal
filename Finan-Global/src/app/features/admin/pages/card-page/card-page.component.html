<div class="container">
  <div class="card-finanglobal mt-4">
    <div class="d-flex align-items-center justify-content-between mb-3 gap-4 p-2">
      <h5><i class="fa-solid fa-wallet me-2"></i>Gestión de Cuentas Bancarias</h5>

      <div class="input-group w-50 justify-content-center">
        <button class="btn btn-finanglobal" (click)="obtenerPDFGeneral('Reporte_General_Tarjetas')">
          <i class="fa-solid fa-file-pdf me-2"></i>Reporte General de Tarjetas
        </button>
      </div>

      <button class="btn btn-finanglobal" (click)="abrirModalAgregar()">
        <i class="fas fa-plus me-2"></i>Nueva Tarjeta
      </button>
    </div>
    <table class="table text-center">
      <thead>
        <tr>
          <th scope="col">ID</th>
          <th scope="col">Código</th>
          <th scope="col">N° Cuenta Bancaria</th>
          <th scope="col">Saldo</th>
          <th scope="col">Fecha de Caducidad</th>
          <th scope="col"></th>
        </tr>
      </thead>
      <tbody class="table-group-divider">
        @for (item of tarjetaBancaria(); track $index) {
        <tr>
          <th scope="row">{{ item.id }}</th>
          <td>{{ item.codigo }}</td>
          <td>{{ item.cuentaBancaria.ncuenta }}</td>
          <td>{{ item.cuentaBancaria.saldo }}</td>
          <td>{{ item.fechaCaducidad }}</td>
          <td>
            <button
              (click)="abrirModalEditar(item)"
              class="btn btn-sm btn-outline-warning me-1 ms-1"
            >
              <i class="fa-solid fa-pen"></i>
            </button>
            <button
              (click)="eliminarTarjetaBancaria(item.id)"
              class="btn btn-sm btn-outline-danger ms-1"
            >
              <i class="fa-solid fa-trash"></i>
            </button>
          </td>
        </tr>
        }
      </tbody>
    </table>
  </div>
</div>

<app-add-card-admin
  [modo]="modo()"
  [tarjetaBancaria]="tarjetaBancariaSeleccionada()"
  (guardar)="onGuardar($event)"
></app-add-card-admin>
