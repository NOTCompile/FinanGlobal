<div class="container">
  <div class="card-finanglobal mt-4">
    <div class="d-flex align-items-center justify-content-between mb-3 gap-4 p-2">
      <h5><i class="fa-solid fa-wallet me-2"></i>Gestión de Cuentas Bancarias</h5>

      <div class="input-group w-50"></div>

      <button class="btn btn-finanglobal" (click)="abrirModalAgregar()">
        <i class="fas fa-plus me-2"></i>Nueva Cuenta
      </button>
    </div>
    <table class="table text-center">
      <thead>
        <tr>
          <th scope="col">ID</th>
          <th scope="col">Persona</th>
          <th scope="col">Nombre</th>
          <th scope="col">N° Cuenta</th>
          <th scope="col">Saldo</th>
          <th scope="col"></th>
        </tr>
      </thead>
      <tbody class="table-group-divider">
        @for (item of cuentaBancaria(); track $index) {
        <tr>
          <th scope="row">{{ item.id }}</th>
          <td>{{ item.usuario.nombre }} {{ item.usuario.apellidos }}</td>
          <td>{{ item.nombre }}</td>
          <td>{{ item.ncuenta }}</td>
          <td>{{ item.saldo }}</td>
          <td>
            <button
              (click)="abrirModalEditar(item)"
              class="btn btn-sm btn-outline-warning me-1 ms-1"
            >
              <i class="fa-solid fa-pen"></i>
            </button>
            <button
              (click)="eliminarCuentaBancaria(item.id)"
              class="btn btn-sm btn-outline-danger ms-1"
            >
              <i class="fa-solid fa-trash"></i>
            </button>
          </td>
        </tr>
        }
      </tbody>
    </table>
  </div>
</div>

<app-add-bank-admin
  [modo]="modo()"
  [cuentaBancaria]="cuentaSeleccionada()"
  (guardar)="onGuardar($event)"
></app-add-bank-admin>
